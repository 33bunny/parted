# This file is sourced by init.sh, *before* its initialization.

# This goes hand in hand with the "exec 9>&2;" in tests/Makefile.am's
# TESTS_ENVIRONMENT definition.
stderr_fileno_=9

# For repeatability, reset the environment to known value.
LANG=C
LC_ALL=C
TZ=UTC
export LANG LC_ALL TZ
export PARTED_SUPPRESS_FILE_SYSTEM_MANIPULATION_WARNING=1

# Protect ourselves from common misconfiguration to export
# CDPATH into the environment
unset CDPATH

# Suppress readline initialization garbage.
unset TERM

sector_size_=${PARTED_SECTOR_SIZE:-512}

require_512_byte_sector_size_()
{
  test $sector_size_ = 512 || skip_ 'FS test with sector size != 512'
}
